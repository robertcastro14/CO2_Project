{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="p-5 mb-4 bg-white rounded-3 shadow-sm border-start border-5 border-success position-relative overflow-hidden">
    <div class="container-fluid py-3 position-relative" style="z-index: 2;">
        <h1 class="display-5 fw-bold text-success">Calcule sua Pegada de Carbono</h1>
        <p class="col-md-8 fs-4 text-muted">O EcoRota ajuda você a monitorar e reduzir suas emissões de CO2 no transporte diário. Simples, rápido e sustentável.</p>
        <a href="{% url 'calculadora' %}" class="btn btn-eco btn-lg mt-2 shadow-sm">
            <i class="bi bi-calculator"></i> Começar Agora
        </a>
    </div>
    <i class="bi bi-tree-fill position-absolute text-success opacity-10" style="font-size: 15rem; right: -2rem; bottom: -3rem; opacity: 0.05;"></i>
</div>

<div class="container mt-4">

    {# LÓGICA DE EXIBIÇÃO DA NOTIFICAÇÃO (RF12) #}
    {% if notificacao and not notificacao.lida %}
    <div class="alert alert-success alert-dismissible fade show mb-5 shadow-sm border-0" role="alert" style="background-color: #e8f5e9; color: #1b5e20;">
        <h5 class="alert-heading fw-bold">
            <i class="bi bi-lightbulb-fill me-2 text-warning"></i> Dica de Sustentabilidade!
        </h5>
        <p class="mb-2">
            <strong>{{ notificacao.dica.titulo }}:</strong> {{ notificacao.dica.conteudo }}
        </p>
        
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
        <a href="{% url 'marcar_notificacao_lida' notificacao.id %}" class="alert-link small fw-bold text-success">
            Marcar como lida
        </a>
    </div>
    {% endif %}

    {# Seção de Features (Atualizada para usar card-eco e Grid do Bootstrap) #}
    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="card card-eco h-100 text-center p-4">
                <div class="card-body">
                    <h1 class="text-success mb-3"><i class="bi bi-car-front-fill"></i></h1>
                    <h3 class="h4 fw-bold">Calculadora</h3>
                    <p class="text-muted">Compare as emissões entre carro, ônibus, metrô e bicicleta.</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card card-eco h-100 text-center p-4">
                <div class="card-body">
                    <h1 class="text-success mb-3"><i class="bi bi-graph-up-arrow"></i></h1>
                    <h3 class="h4 fw-bold">Monitoramento</h3>
                    <p class="text-muted">Acompanhe suas emissões mensais e visualize gráficos detalhados.</p>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card card-eco h-100 text-center p-4">
                <div class="card-body">
                    <h1 class="text-success mb-3"><i class="bi bi-flower1"></i></h1>
                    <h3 class="h4 fw-bold">Dicas Verdes</h3>
                    <p class="text-muted">Aprenda formas simples e práticas de reduzir seu impacto ambiental.</p>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock content %}