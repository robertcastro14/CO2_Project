<!-- transportes.html -->
<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EcoJourney — Transportes</title>
<style>
  :root{
    --bg:#f7fff7; --card:#fff; --accent:#198754; --text:#07341f; --muted:#5f7767; --radius:14px;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:var(--bg); color:var(--text);
    padding:28px;
  }

  .topbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:20px}
  .brand{display:flex;gap:12px;align-items:center}
  .brand .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#0f5132,#198754);display:grid;place-items:center;color:white;font-weight:700}
  nav a{margin-left:14px;text-decoration:none;color:var(--muted);font-weight:600}

  .container{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 320px;gap:28px;align-items:start}
  .hero{padding:26px;border-radius:16px;background:linear-gradient(90deg,#fff,#f7fff8);box-shadow:0 10px 30px rgba(8,60,30,0.06)}
  .hero h1{margin:0 0 6px 0}
  .hero p{margin:0;color:var(--muted)}

  /* grid of cards */
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:18px}
  .card{background:var(--card);padding:18px;border-radius:var(--radius);box-shadow:0 8px 28px rgba(6,40,22,0.06);border:1px solid rgba(6,40,22,0.03);transition:transform .18s}
  .card:hover{transform:translateY(-8px)}
  .card img{width:88px;height:88px;display:block;margin:8px auto}
  .card h3{text-align:center;margin:6px 0}
  .metrics{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
  .em{font-weight:800;color:var(--accent)}
  .cost{color:var(--muted);font-size:13px}

  /* sidebar */
  aside{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 18px rgba(6,40,22,0.06)}
  .filters{display:flex;flex-direction:column;gap:10px}
  select,input[type=range]{width:100%}

  /* ranking */
  .ranking{margin-top:18px;display:flex;flex-direction:column;gap:10px}
  .rank-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:10px;border:1px solid rgba(6,40,22,0.03)}
  .rank-item .label{display:flex;gap:10px;align-items:center}
  .badge{padding:6px 10px;border-radius:8px;background:#eefbf0;color:var(--accent);font-weight:700;border:1px solid rgba(25,135,84,0.08)}

  @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}.container{grid-template-columns:1fr}}
  @media (max-width:600px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">EJ</div>
      <div>
        <strong>EcoJourney</strong><br><small style="color:#5f7767">Comparador de transporte</small>
      </div>
    </div>
    <nav>
      <a href="index.html">Calculadora</a>
      <a href="transportes.html">Transportes</a>
      <a href="avaliacoes.html">Avaliações</a>
    </nav>
  </header>

  <main class="container">
    <section>
      <div class="hero">
        <h1>Escolha o transporte ideal</h1>
        <p>Compare emissões (kg CO₂/km), custo estimado e tempo. Use filtros à direita para ajustar.</p>

        <div style="display:flex;gap:12px;margin-top:18px;align-items:center">
          <input id="search" placeholder="Filtrar por transporte (ex: bike, onibus)" style="flex:1;padding:10px;border-radius:10px;border:1px solid #e6efe8" />
          <button id="clearSearch" style="padding:10px 12px;border-radius:10px;border:none;background:#198754;color:white">Limpar</button>
        </div>

        <div class="grid" id="cardsGrid" aria-live="polite">
          <!-- card example: repetiremos por JS -->
          <!-- cards são gerados pelo script abaixo -->
        </div>
      </div>
    </section>

    <aside>
      <div style="font-weight:700;color:#07341f">Filtros</div>
      <div class="filters" style="margin-top:8px">
        <label class="small">Máx. emissão (kg CO₂/km)</label>
        <input id="maxEm" type="range" min="0" max="0.3" step="0.01" value="0.3" />
        <label class="small">Ordenar por</label>
        <select id="order">
          <option value="emission">Menor emissão</option>
          <option value="cost">Custo</option>
        </select>
      </div>

      <div class="ranking">
        <div style="font-weight:700;margin-bottom:6px">Ranking rápido</div>
        <div id="rankingList">
          <!-- rank items preenchidos pelo script -->
        </div>
      </div>
    </aside>
  </main>

<script>
  // Dados (exemplo) — emissões por km (kg CO2/km), custo relativo, velocidade média km/h
  const transportModes = [
    {id:'bike', name:'Bicicleta', emission:0, cost:0.02, speed:15, img:null},
    {id:'walk', name:'Caminhar', emission:0, cost:0, speed:5, img:null},
    {id:'scooter', name:'Patinete Elétrico', emission:0.02, cost:0.05, speed:18, img:null},
    {id:'transit', name:'Transporte Público', emission:0.05, cost:0.08, speed:25, img:null},
    {id:'motorcycle', name:'Moto', emission:0.11, cost:0.10, speed:40, img:null},
    {id:'ev', name:'Carro Elétrico', emission:0.07, cost:0.18, speed:50, img:null},
    {id:'car', name:'Carro (combustão)', emission:0.21, cost:0.25, speed:48, img:null},
  ];

  const cardsGrid = document.getElementById('cardsGrid');
  const rankingList = document.getElementById('rankingList');
  const maxEm = document.getElementById('maxEm');
  const order = document.getElementById('order');
  const search = document.getElementById('search');

  function renderCards(){
    const maxVal = parseFloat(maxEm.value);
    const q = search.value.trim().toLowerCase();
    let arr = transportModes.filter(t => t.emission <= maxVal && t.name.toLowerCase().includes(q));
    if(order.value === 'emission') arr.sort((a,b)=>a.emission-b.emission);
    else arr.sort((a,b)=>a.cost-b.cost);

    cardsGrid.innerHTML = '';
    arr.forEach(t=>{
      const el = document.createElement('div');
      el.className='card';
      el.innerHTML = `
        <div style="display:flex;flex-direction:column;align-items:center">
          <svg width="88" height="88" viewBox="0 0 24 24" fill="none" style="opacity:0.95">
            <circle cx="12" cy="12" r="10" stroke="#e6f6ee" stroke-width="2" fill="#f7fff9"/>
            <text x="12" y="16" font-size="10" text-anchor="middle" fill="#3a6b51" font-weight="700">${t.name.split(' ')[0]}</text>
          </svg>
          <h3>${t.name}</h3>
          <div class="metrics">
            <div><div class="small">Emissão</div><div class="em">${t.emission.toFixed(2)} kg/km</div></div>
            <div style="text-align:right"><div class="small">Custo</div><div class="cost">~ R$ ${(t.cost*10).toFixed(2)}</div></div>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px">
            <button onclick="estimate('${t.id}')" style="padding:8px 10px;border-radius:10px;border:none;background:#198754;color:white;cursor:pointer">Estimativa</button>
            <button onclick="showDetails('${t.id}')" style="padding:8px 10px;border-radius:10px;border:1px solid rgba(6,40,22,0.06);background:white;cursor:pointer">Detalhes</button>
          </div>
        </div>
      `;
      cardsGrid.appendChild(el);
    });
  }

  function renderRanking(){
    // ranking por emissões
    const arr = transportModes.slice().sort((a,b)=>a.emission-b.emission).slice(0,5);
    rankingList.innerHTML = '';
    arr.forEach((t,i)=>{
      const div = document.createElement('div');
      div.className='rank-item';
      div.innerHTML = `<div class="label"><strong style="width:28px">${i+1}.</strong> <div style="margin-left:6px">${t.name}</div></div><div class="badge">${t.emission.toFixed(2)}</div>`;
      rankingList.appendChild(div);
    });
  }

  function estimate(id){
    const mode = transportModes.find(m=>m.id===id);
    const dist = parseFloat(prompt('Insira distância (km) para estimativa', '10')) || 0;
    if(dist<=0) return alert('Distância inválida');
    const kg = mode.emission * dist;
    alert(`Estimativa: ${kg.toLocaleString('pt-BR',{minimumFractionDigits:2})} kg CO₂ para ${dist} km (${mode.name})`);
  }

  function showDetails(id){
    const m = transportModes.find(x=>x.id===id);
    alert(`${m.name}\nEmissão: ${m.emission} kg CO₂/km\nCusto aprox.: R$ ${(m.cost*10).toFixed(2)} por km\nVelocidade média: ${m.speed} km/h`);
  }

  // listeners
  maxEm.addEventListener('input', renderCards);
  order.addEventListener('change', renderCards);
  search.addEventListener('input', renderCards);
  document.getElementById('clearSearch').addEventListener('click', ()=>{search.value='';renderCards()});

  // init
  renderCards();
  renderRanking();
</script>
</body>
</html>
